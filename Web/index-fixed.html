<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='32' r='30' fill='%23667eea'/%3E%3Ctext x='32' y='38' text-anchor='middle' font-size='28' fill='white'%3E%F0%9F%8F%8B%EF%B8%8F%3C/text%3E%3C/svg%3E">
    <title>游泳系統 - 教練版本 (修复版)</title>
    <link rel="stylesheet" href="styles.css?v=4">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- 登入界面 -->
    <div id="loginSection" class="section active">
        <div class="login-container">
            <div class="login-header">
                <h1><i class="fas fa-swimming-pool"></i> 游泳系統</h1>
                <p>教練版本 (修复版)</p>
            </div>
            
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="phoneInput">
                        <i class="fas fa-phone"></i> 電話號碼
                    </label>
                    <input type="tel" id="phoneInput" name="phone" required placeholder="請輸入電話號碼">
                </div>
                
                <div class="form-group">
                    <label for="passwordInput">
                        <i class="fas fa-lock"></i> 密碼
                    </label>
                    <input type="password" id="passwordInput" name="password" required placeholder="請輸入密碼">
                </div>
                
                <div class="form-group">
                    <label for="roleSelect">
                        <i class="fas fa-user-tag"></i> 登入身份
                    </label>
                    <select id="roleSelect" name="role">
                        <option value="parent">學生</option>
                        <option value="coach" selected>教練</option>
                        <option value="admin">管理員</option>
                    </select>
                </div>
                
                <button type="submit" class="login-btn">
                    <i class="fas fa-sign-in-alt"></i> 登入
                </button>
            </form>
            
            <div id="loginMessage" class="message"></div>
            
            <div class="login-footer">
                <p>© 2025 游泳系統 (修复版)</p>
            </div>
        </div>
    </div>

    <!-- 教練主界面 -->
    <div id="coachSection" class="section">
        <nav class="top-nav">
            <div class="nav-left">
                <h2><i class="fas fa-swimming-pool"></i> 游泳系統 - 教練版本</h2>
            </div>
            <div class="nav-right">
                <span id="userInfo" class="user-info">
                    <i class="fas fa-user"></i> <span id="userPhone"></span>
                </span>
                <button id="logoutBtn" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> 登出
                </button>
            </div>
        </nav>

        <div class="main-content">
            <!-- 用戶信息區域 -->
            <div class="user-info-section">
                <div class="info-card">
                    <h3><i class="fas fa-user-circle"></i> 用戶信息</h3>
                    <p><strong>電話：</strong><span id="displayUserPhone"></span></p>
                    <p><strong>身份：</strong>教練</p>
                    <p><strong>登入時間：</strong><span id="loginTime"></span></p>
                </div>
            </div>

            <!-- 功能選項區域 -->
            <div class="features-section">
                <div class="feature-card" onclick="showAttendanceManagement()">
                    <i class="fas fa-clipboard-check"></i>
                    <h3>出席記錄管理</h3>
                    <p>查看和管理學生出席記錄</p>
                </div>
                
                <div class="feature-card" onclick="showLocationClub()">
                    <i class="fas fa-map-marker-alt"></i>
                    <h3>地點泳會管理</h3>
                    <p>選擇工作地點和泳會</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 加載指示器 -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>載入中...</p>
        </div>
    </div>

    <!-- 使用修复版脚本 -->
    <script src="script-fixed.js?v=1"></script>
    
    <script>
        // 页面加载完成后的额外检查
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🔍 页面加载完成，开始额外检查...');
            
            // 检查必要的DOM元素
            const requiredElements = [
                'loginForm',
                'loginSection', 
                'coachSection',
                'phoneInput',
                'passwordInput',
                'roleSelect',
                'loginMessage',
                'userPhone',
                'displayUserPhone',
                'loginTime',
                'logoutBtn'
            ];
            
            requiredElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    console.log(`✅ ${id} 元素存在`);
                } else {
                    console.error(`❌ ${id} 元素不存在`);
                }
            });
            
            // 检查CSS类
            const loginSection = document.getElementById('loginSection');
            const coachSection = document.getElementById('coachSection');
            
            if (loginSection && coachSection) {
                console.log('✅ 登录和教练界面元素都存在');
                console.log(`📱 登录界面显示状态: ${loginSection.style.display || '默认'}`);
                console.log(`👨‍🏫 教练界面显示状态: ${coachSection.style.display || '默认'}`);
            }
            
            console.log('🎯 额外检查完成');
        });
    </script>
</body>
</html> 